(self.webpackChunkcloud_vod=self.webpackChunkcloud_vod||[]).push([[936],{1826:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AboutPage:()=>P,UploadPage:()=>O,VideoPage:()=>h,VideosPage:()=>c});var r=a(7294),l=a(1411);const n=e=>{var{video:t}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:"overflow-hidden shadow-lg rounded-lg h-90"},r.createElement("div",{className:"w-full block h-full"},r.createElement("img",{alt:"blog photo",src:t.thumbnail_url,className:"max-h-40 w-full object-cover"}),r.createElement("div",{className:"bg-white dark:bg-gray-800 w-full p-4"},r.createElement("p",{className:"text-gray-800 dark:text-white text-xl font-medium mb-2"},t.title),r.createElement("p",{className:"text-gray-400 dark:text-gray-300 font-light text-md"},t.description),r.createElement("div",{className:"flex items-center mt-4"},r.createElement("div",{className:"block relative"},r.createElement("img",{alt:"profile",src:t.profile_url,className:"mx-auto object-cover rounded-full h-10 w-10 "})),r.createElement("div",{className:"flex flex-col justify-between ml-4 text-sm"},r.createElement("p",{className:"text-gray-800 dark:text-white"},t.user_name),r.createElement("p",{className:"text-gray-400 dark:text-gray-300"},t.upload_date)))))))};var o=a(3727),c=()=>{var{data:e}=(0,l.CG)((e=>e));return r.createElement("div",{className:"max-w-7xl mx-auto h-full py-8 px-2"},r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 justify-items-stretch px-4 xl:px-0  gap-8"},e.videos.map(((e,t)=>r.createElement(o.rU,{to:{pathname:"/watch/"+e.id,state:e},key:t},r.createElement(n,{video:e}))))))},m=a(5977),i=a(980),s=a(4096),d=a(8017),u=a(9444),g=a(8482),p=a(4136);const f=e=>{var{width:t,height:a,src:l,thumbnail_url:n}=e,[o,c]=(0,r.useState)(null),m=l.includes("mp4")?"video/mp4":"application/x-mpegURL";return"application/x-mpegURL"!=m||l.includes("(format=m3u8-aapl)")||(l+="(format=m3u8-aapl)"),(0,r.useEffect)((()=>{var e=o?(0,p.Z)(o,{autoplay:!1,playbackRates:[.5,1,1.25,1.5,2],width:t,height:a,controls:!0,poster:n,sources:[{src:l,type:m}]}):void 0;return()=>{null==e||e.dispose()}}),[o]),r.createElement("div",{"data-vjs-player":!0},r.createElement("video",{ref:e=>c(e),className:"video-js vjs-16-9 vjs-big-play-centered"}))};const E=e=>{var{user:t}=(0,l.CG)((e=>e));return e.videoData.is_public||null!==t?r.createElement(s.k,{bg:"gray.600",p:50,w:"full",alignItems:"center",justifyContent:"center"},r.createElement(d.xu,{w:"full",mx:"auto",rounded:"lg",shadow:"md",bg:(0,i.useColorModeValue)("white","gray.800"),maxW:"75%"},r.createElement(f,{src:e.videoData.streaming_url,thumbnail_url:e.videoData.thumbnail_url}),r.createElement(d.xu,{p:6},r.createElement(d.xu,null,r.createElement(i.chakra.span,{fontSize:"xs",textTransform:"uppercase",color:(0,i.useColorModeValue)("brand.600","brand.400")},"#1 ON TRENDING"),r.createElement(u.r,{display:"block",color:(0,i.useColorModeValue)("gray.800","white"),fontWeight:"bold",fontSize:"2xl",mt:2,_hover:{color:"gray.600",textDecor:"underline"},href:"#"},e.videoData.title),r.createElement(i.chakra.p,{mt:2,fontSize:"sm",color:(0,i.useColorModeValue)("gray.600","gray.400")},e.videoData.description)),r.createElement(d.xu,{mt:4},r.createElement(s.k,{alignItems:"center"},r.createElement(s.k,{alignItems:"center"},r.createElement(g.E,{h:10,fit:"cover",rounded:"full",src:e.videoData.profile_url,alt:"Avatar"}),r.createElement(u.r,{mx:2,fontWeight:"bold",color:(0,i.useColorModeValue)("gray.700","gray.200"),href:"#"},e.videoData.user_name)),r.createElement(i.chakra.span,{mx:1,fontSize:"sm",color:(0,i.useColorModeValue)("gray.600","gray.300")},e.videoData.upload_date)))))):r.createElement(r.Fragment,null,"Permission Denied")};var v=a(829),h=()=>{var{data:e}=(0,l.CG)((e=>e)),{state:t}=(0,m.TH)(),{id:a}=(0,m.UO)(),[n,o]=r.useState(void 0),[c,i]=r.useState(!0);return(0,r.useEffect)((()=>{if(t)o(t);else{var r=e.videos.find((e=>e.id==Number(a)));r&&o(r)}i(!1)}),[t,a]),c?r.createElement(v.$,null):n?r.createElement(E,{videoData:n}):r.createElement(r.Fragment,null,"Video Not Found")},x=a(336),y=a(5133),b=a(51),D=a(1534),S=a(6618),k=a(9887),N=a(8104),w=a(17),C=a(6185),_=a(4115),z=e=>{var[t,a]=r.useState(!1);return r.createElement(s.k,{mt:1,justify:"center",px:6,pt:5,pb:6,borderWidth:2,borderColor:"gray.500",borderStyle:"dashed",rounded:"md",onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items.length>0&&a(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),a(!1)},onDrop:t=>{t.preventDefault(),t.stopPropagation(),a(!1),t.dataTransfer.files&&t.dataTransfer.files.length>0&&(e.setValue(t.dataTransfer.files.item(t.dataTransfer.files.length-1)),t.dataTransfer.clearData())},onDragOver:e=>{e.preventDefault(),e.stopPropagation()}},t?r.createElement(b.Kq,{spacing:1,textAlign:"center"},r.createElement(s.k,{fontSize:"sm",color:"gray.400",alignItems:"center"},r.createElement(i.chakra.label,{rounded:"md",fontSize:"md",color:"brand.200",pos:"relative"},r.createElement("span",null,"Drop the file here"))),r.createElement(_.x,{fontSize:"xs",color:"gray.50"},"MP4 or MOV File Only")):null===e.value?r.createElement(b.Kq,{spacing:1,textAlign:"center"},r.createElement(s.k,{fontSize:"sm",color:"gray.400",alignItems:"center"},r.createElement("span",null,"Drag and drop the file here")),r.createElement(_.x,{fontSize:"xs",color:"gray.50"},"MP4 or MOV File Only")):r.createElement(b.Kq,{spacing:1,textAlign:"center"},r.createElement(s.k,{fontSize:"sm",color:"gray.400",alignItems:"center"},r.createElement(i.chakra.label,{htmlFor:"file-upload",cursor:"pointer",rounded:"md",fontSize:"md",color:"brand.200",pos:"relative",_hover:{color:"brand.300"}},r.createElement("span",null,"Upload successful"))),r.createElement(_.x,{fontSize:"xs",color:"gray.50"},e.value.name)))},V=a(6403),O=()=>{var{data:e,loading:t,error:a}=(0,l.CG)((e=>e)),[n,o]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[s,u]=(0,r.useState)([]),[g,p]=(0,r.useState)(null),f=(0,l.TL)();return r.createElement(d.xu,{p:10},r.createElement(d.xu,null,r.createElement(x.X,{color:"white",pb:5},"Upload a new Video"),r.createElement(i.chakra.form,{rounded:[null,"md"],overflow:{sm:"hidden"},onSubmit:e=>{e.preventDefault(),alert(JSON.stringify({title:n,description:c,categories:s.map((e=>e.id)),file:g})),g&&f((0,V.j8)({title:n,description:c,categories:s.map((e=>e.id)),file:g}))}},a.UPLOAD_VIDEO&&r.createElement(y.bZ,{status:"error"},r.createElement(y.zM,null),r.createElement(y.Cd,{mr:2},"Error while uploading video"),r.createElement(y.X,null,a.UPLOAD_VIDEO)),r.createElement(b.Kq,{px:4,py:5,bg:"gray.700",spacing:6,p:{sm:6}},r.createElement(D.NI,null,r.createElement(S.l,{fontSize:"sm",fontWeight:"md",color:"gray.50"},"Name"),r.createElement(k.I,{focusBorderColor:"brand.400",rounded:"md",value:n,onChange:e=>o(e.target.value)}),r.createElement(D.Q6,null,"Please keep it less than 45 characters.")),r.createElement(D.NI,null,r.createElement(S.l,{fontSize:"sm",fontWeight:"md",color:"gray.50"},"Categories"),r.createElement(N.Ph,{focusBorderColor:"brand.400",rounded:"md",onChange:e=>{e.preventDefault();var t=JSON.parse(e.target.value);u([...s,t])},value:void 0},e.categories.filter((e=>void 0===s.find((t=>t.id===e.id)))).map(((e,t)=>r.createElement("option",{value:JSON.stringify(e),key:t},e.name))))),r.createElement(D.NI,{id:"email",mt:1},r.createElement(S.l,{fontSize:"sm",fontWeight:"md",color:"gray.50"},"Description"),r.createElement(w.g,{mt:1,rows:3,shadow:"sm",focusBorderColor:"brand.400",fontSize:{sm:"sm"},value:c,onChange:e=>m(e.target.value)}),r.createElement(D.Q6,null,"Brief description for your video.")),r.createElement(D.NI,null,r.createElement(S.l,{fontSize:"sm",fontWeight:"md",color:"gray.50"},"Video"),r.createElement(z,{value:g,setValue:p})),r.createElement(D.NI,null,r.createElement(C.z,{type:"submit",_focus:{shadow:"none"},fontWeight:"md",disabled:t.UPLOAD_VIDEO},t.UPLOAD_VIDEO?r.createElement(v.$,null):"Upload"))))))},P=()=>r.createElement(r.Fragment,null,"AboutPage")},5586:()=>{},9847:()=>{}}]);